----------------------------------------------------------------------------------
title: 测试工具appuim  version:0.0.1 date:2018-02-23 author:lx_7 
----------------------------------------------------------------------------------

参考:http://www.testclass.net/appium/appium-base-summary/

1.简介：
	appium 是一个自动化测试开源工具，支持 iOS 平台和 Android 平台上的原生应用，web应用和混合应用。

	“移动原生应用”是指那些用iOS或者 Android SDK 写的应用（Application简称app）。

	“移动web应用”是指使用移动浏览器访问的应用（appium支持iOS上的Safari和Android上的 Chrome）。

	“混合应用”是指原生代码封装网页视图――原生代码和 web 内容交互。比如，像 Phonegap，可以帮助开发者使用网页技术开发应用，然后用原生代码封装，这些就是混合应用。

重要的是，appium是一个跨平台的工具：它允许测试人员在不同的平台（iOS，Android）使用同一套API来写自动化测试脚本，这样大大增加了iOS和Android测试套件间代码的复用性。

2.安装：
	
	android-sdk(模拟器):
		android-sdk-windows:
			http://tools.android-studio.org/index.php/sdk
			将下载的 Android SDK 解压,双击 SDK Manage.exe 启动SDK管理器。双击 AVD Manage.exe 启动AVD管理器(安卓模拟器管理器)。
			设置环境变量:
				我的电脑” 右键菜单 ―> 属性 ―> 高级 ―> 环境变量 ―> 系统变量 ―> 新建…
				变量名：ANDROID_SDK_HOME 变量值：D:\android\android-sdk-windows
				编辑 path 系统变量
				在最后添加;%ANDROID_SDK_HOME%\platform-tools;%ANDROID_SDK_HOME%\tools

	python-client(编程语言appuim客户端):
		通过git安装:
			git clone git@github.com:appium/python-client.git
			cd python-client
			python setup.py install
		https://github.com/appium/python-client

	Appium-desktop(appuim服务端):
		https://github.com/appium/appium-desktop/releases

3.测试：
	获取apk参数:
		aapt工具：其实安装好android-sdk后，在sdk的buidl-tools的任意一个版本下都有aapt.exe。只要给它配置下环境变量就可以cmd使用.如：在path后添加;%ANDROID_SDK_HOME%\build-tools\27.0.3
		aapt dump badging D:\test\xxx.apk(APK的全名，如GRZQ.apk)
	
	获取设备名：
		adb devices

	python脚本:
		1.唤醒app：

#coding:utf-8
from appium import webdriver

desired_caps = {}
desired_caps['platformName'] = 'Android'	#系统名称
desired_caps['platformVersion'] = '6.0'		#系统版本
desired_caps['deviceName'] = 'Android Emulator'		#设备名称
desired_caps['appPackage'] = 'com.android.dialer'	#apk包名
desired_caps['appActivity'] = 'DialtaactsActivity'	#apk的launcherActivity
#desired_caps['waitappActivity'] = 'DialtaactsActivity'	#有引导页时使用
driver = webdriver.Remote('http://localhost:4723/wd/hub', desired_caps）

		2.安装app:

#coding:utf-8
import os
from appium import webdriver
apk_path = os.path.abspath(os.path.join(os.path.dirname(__file__),"..")) #获取当前项目的根路径

desired_caps = {}
desired_caps['platformName'] = 'Android'	#系统名称
desired_caps['platformVersion'] = '6.0'		#系统版本
desired_caps['deviceName'] = 'Android Emulator'		#设备名称
# 测试apk包的路径  
desired_caps['app'] = apk_path + '\\app\\shoujibaidu.apk'

driver = webdriver.Remote('http://localhost:4723/wd/hub', desired_caps）


	运行脚本：
		python xx.py